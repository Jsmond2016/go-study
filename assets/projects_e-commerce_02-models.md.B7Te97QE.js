import{_ as i,c as a,o as n,ag as t}from"./chunks/framework.mZxFZN4m.js";const u=JSON.parse('{"title":"æ•°æ®æ¨¡å‹è®¾è®¡","description":"","frontmatter":{"title":"æ•°æ®æ¨¡å‹è®¾è®¡","difficulty":"intermediate","duration":"4-5å°æ—¶","prerequisites":["ç¯å¢ƒæ­å»º"],"tags":["æ•°æ®æ¨¡å‹","æ•°æ®åº“","GORM","ç”µå•†"]},"headers":[],"relativePath":"projects/e-commerce/02-models.md","filePath":"projects/e-commerce/02-models.md","lastUpdated":1763885841000}'),l={name:"projects/e-commerce/02-models.md"};function p(e,s,h,k,r,o){return n(),a("div",null,[...s[0]||(s[0]=[t('<h1 id="æ•°æ®æ¨¡å‹è®¾è®¡" tabindex="-1">æ•°æ®æ¨¡å‹è®¾è®¡ <a class="header-anchor" href="#æ•°æ®æ¨¡å‹è®¾è®¡" aria-label="Permalink to &quot;æ•°æ®æ¨¡å‹è®¾è®¡&quot;">â€‹</a></h1><p>æœ¬ç« èŠ‚å°†è¯¦ç»†ä»‹ç»ç”µå•†ç³»ç»Ÿçš„æ•°æ®æ¨¡å‹è®¾è®¡ï¼ŒåŒ…æ‹¬å•†å“ã€è®¢å•ã€è´­ç‰©è½¦ã€æ”¯ä»˜ç­‰æ¨¡å‹çš„å®šä¹‰å’Œå…³è”å…³ç³»ã€‚</p><h2 id="ğŸ“‹-å­¦ä¹ ç›®æ ‡" tabindex="-1">ğŸ“‹ å­¦ä¹ ç›®æ ‡ <a class="header-anchor" href="#ğŸ“‹-å­¦ä¹ ç›®æ ‡" aria-label="Permalink to &quot;ğŸ“‹ å­¦ä¹ ç›®æ ‡&quot;">â€‹</a></h2><p>å®Œæˆæœ¬ç« èŠ‚åï¼Œä½ å°†èƒ½å¤Ÿï¼š</p><ul class="contains-task-list"><li class="task-list-item enabled"><input class="task-list-item-checkbox" type="checkbox"> è®¾è®¡ç”µå•†ç³»ç»Ÿçš„æ•°æ®åº“è¡¨ç»“æ„</li><li class="task-list-item enabled"><input class="task-list-item-checkbox" type="checkbox"> ä½¿ç”¨ GORM å®šä¹‰æ•°æ®æ¨¡å‹</li><li class="task-list-item enabled"><input class="task-list-item-checkbox" type="checkbox"> ç†è§£ç”µå•†ä¸šåŠ¡æ¨¡å‹ä¹‹é—´çš„å…³ç³»</li><li class="task-list-item enabled"><input class="task-list-item-checkbox" type="checkbox"> å®ç°æ•°æ®åº“è‡ªåŠ¨è¿ç§»</li><li class="task-list-item enabled"><input class="task-list-item-checkbox" type="checkbox"> æŒæ¡å¤æ‚ä¸šåŠ¡æ¨¡å‹çš„è®¾è®¡</li></ul><h2 id="ğŸ—„ï¸-æ•°æ®åº“è®¾è®¡" tabindex="-1">ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡ <a class="header-anchor" href="#ğŸ—„ï¸-æ•°æ®åº“è®¾è®¡" aria-label="Permalink to &quot;ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡&quot;">â€‹</a></h2><h3 id="å®ä½“å…³ç³»å›¾" tabindex="-1">å®ä½“å…³ç³»å›¾ <a class="header-anchor" href="#å®ä½“å…³ç³»å›¾" aria-label="Permalink to &quot;å®ä½“å…³ç³»å›¾&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>User (ç”¨æˆ·)</span></span>\n<span class="line"><span>  â”œâ”€â”€ Orders (è®¢å•) 1:N</span></span>\n<span class="line"><span>  â”œâ”€â”€ CartItems (è´­ç‰©è½¦) 1:N</span></span>\n<span class="line"><span>  â””â”€â”€ Addresses (åœ°å€) 1:N</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>Product (å•†å“)</span></span>\n<span class="line"><span>  â”œâ”€â”€ Category (åˆ†ç±») N:1</span></span>\n<span class="line"><span>  â”œâ”€â”€ ProductImages (å•†å“å›¾ç‰‡) 1:N</span></span>\n<span class="line"><span>  â”œâ”€â”€ ProductSKUs (SKU) 1:N</span></span>\n<span class="line"><span>  â””â”€â”€ CartItems (è´­ç‰©è½¦é¡¹) 1:N</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>Order (è®¢å•)</span></span>\n<span class="line"><span>  â”œâ”€â”€ User (ç”¨æˆ·) N:1</span></span>\n<span class="line"><span>  â”œâ”€â”€ OrderItems (è®¢å•é¡¹) 1:N</span></span>\n<span class="line"><span>  â””â”€â”€ Payment (æ”¯ä»˜) 1:1</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>OrderItem (è®¢å•é¡¹)</span></span>\n<span class="line"><span>  â”œâ”€â”€ Order (è®¢å•) N:1</span></span>\n<span class="line"><span>  â””â”€â”€ ProductSKU (SKU) N:1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="ğŸ“¦-æ¨¡å‹å®šä¹‰" tabindex="-1">ğŸ“¦ æ¨¡å‹å®šä¹‰ <a class="header-anchor" href="#ğŸ“¦-æ¨¡å‹å®šä¹‰" aria-label="Permalink to &quot;ğŸ“¦ æ¨¡å‹å®šä¹‰&quot;">â€‹</a></h2><h3 id="_1-å•†å“æ¨¡å‹" tabindex="-1">1. å•†å“æ¨¡å‹ <a class="header-anchor" href="#_1-å•†å“æ¨¡å‹" aria-label="Permalink to &quot;1. å•†å“æ¨¡å‹&quot;">â€‹</a></h3><p>åˆ›å»º <code>internal/model/product.go</code>:</p><div class="language-go vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">package</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> model</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>\n<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gorm.io/gorm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Product å•†å“æ¨¡å‹</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Product</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	ID          </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      `gorm:&quot;primaryKey&quot; json:&quot;id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Name        </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;not null;size:200;index&quot; json:&quot;name&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Slug        </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;uniqueIndex;not null;size:255&quot; json:&quot;slug&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Description </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;type:text&quot; json:&quot;description&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Price       </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   `gorm:&quot;not null;index&quot; json:&quot;price&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Stock       </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       `gorm:&quot;default:0&quot; json:&quot;stock&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Status      </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;default:active;size:20;index&quot; json:&quot;status&quot;`</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // active, inactive, sold_out</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	SalesCount  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       `gorm:&quot;default:0&quot; json:&quot;sales_count&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	ViewCount   </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       `gorm:&quot;default:0&quot; json:&quot;view_count&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	CreatedAt   </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `json:&quot;created_at&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	UpdatedAt   </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `json:&quot;updated_at&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	DeletedAt   </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gorm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DeletedAt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `gorm:&quot;index&quot; json:&quot;-&quot;`</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	// å¤–é”®</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	CategoryID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `gorm:&quot;not null;index&quot; json:&quot;category_id&quot;`</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	// å…³è”</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Category    </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Category</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      `gorm:&quot;foreignKey:CategoryID&quot; json:&quot;category,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Images      []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ProductImage</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `gorm:&quot;foreignKey:ProductID&quot; json:&quot;images,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	SKUs        []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ProductSKU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  `gorm:&quot;foreignKey:ProductID&quot; json:&quot;skus,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	CartItems   []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CartItem</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;foreignKey:ProductID&quot; json:&quot;-&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ProductImage å•†å“å›¾ç‰‡</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ProductImage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	ID        </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   `gorm:&quot;primaryKey&quot; json:&quot;id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	ProductID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   `gorm:&quot;not null;index&quot; json:&quot;product_id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	URL       </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `gorm:&quot;not null;size:500&quot; json:&quot;url&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Sort      </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;default:0&quot; json:&quot;sort&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	IsPrimary </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   `gorm:&quot;default:false&quot; json:&quot;is_primary&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ProductSKU å•†å“SKU</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ProductSKU</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	ID        </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;primaryKey&quot; json:&quot;id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	ProductID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;not null;index&quot; json:&quot;product_id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	SKU       </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  `gorm:&quot;uniqueIndex;not null;size:100&quot; json:&quot;sku&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Price     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `gorm:&quot;not null&quot; json:&quot;price&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Stock     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     `gorm:&quot;default:0&quot; json:&quot;stock&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Attributes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `gorm:&quot;type:json&quot; json:&quot;attributes&quot;`</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // è§„æ ¼å±æ€§JSON</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><h3 id="_2-åˆ†ç±»æ¨¡å‹" tabindex="-1">2. åˆ†ç±»æ¨¡å‹ <a class="header-anchor" href="#_2-åˆ†ç±»æ¨¡å‹" aria-label="Permalink to &quot;2. åˆ†ç±»æ¨¡å‹&quot;">â€‹</a></h3><div class="language-go vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Category åˆ†ç±»æ¨¡å‹</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Category</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	ID          </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      `gorm:&quot;primaryKey&quot; json:&quot;id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Name        </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;uniqueIndex;not null;size:50&quot; json:&quot;name&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Slug        </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;uniqueIndex;not null;size:100&quot; json:&quot;slug&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Description </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;size:255&quot; json:&quot;description&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	ParentID    </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     `gorm:&quot;index&quot; json:&quot;parent_id,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Sort        </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       `gorm:&quot;default:0&quot; json:&quot;sort&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	CreatedAt   </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `json:&quot;created_at&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	UpdatedAt   </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `json:&quot;updated_at&quot;`</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Products  []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Product</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `gorm:&quot;foreignKey:CategoryID&quot; json:&quot;products,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Children  []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Category</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `gorm:&quot;foreignKey:ParentID&quot; json:&quot;children,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Parent    </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Category</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  `gorm:&quot;foreignKey:ParentID&quot; json:&quot;parent,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_3-è´­ç‰©è½¦æ¨¡å‹" tabindex="-1">3. è´­ç‰©è½¦æ¨¡å‹ <a class="header-anchor" href="#_3-è´­ç‰©è½¦æ¨¡å‹" aria-label="Permalink to &quot;3. è´­ç‰©è½¦æ¨¡å‹&quot;">â€‹</a></h3><div class="language-go vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// CartItem è´­ç‰©è½¦é¡¹</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CartItem</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	ID        </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      `gorm:&quot;primaryKey&quot; json:&quot;id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	UserID    </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      `gorm:&quot;not null;index&quot; json:&quot;user_id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	ProductID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     `gorm:&quot;not null;index&quot; json:&quot;product_id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	SKUID     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     `gorm:&quot;index&quot; json:&quot;sku_id,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Quantity  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       `gorm:&quot;not null;default:1&quot; json:&quot;quantity&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	CreatedAt </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `json:&quot;created_at&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	UpdatedAt </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `json:&quot;updated_at&quot;`</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	User    </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">User</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       `gorm:&quot;foreignKey:UserID&quot; json:&quot;user,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Product </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Product</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;foreignKey:ProductID&quot; json:&quot;product,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	SKU     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ProductSKU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `gorm:&quot;foreignKey:SKUID&quot; json:&quot;sku,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="_4-è®¢å•æ¨¡å‹" tabindex="-1">4. è®¢å•æ¨¡å‹ <a class="header-anchor" href="#_4-è®¢å•æ¨¡å‹" aria-label="Permalink to &quot;4. è®¢å•æ¨¡å‹&quot;">â€‹</a></h3><div class="language-go vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Order è®¢å•æ¨¡å‹</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Order</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	ID            </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      `gorm:&quot;primaryKey&quot; json:&quot;id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	OrderNo       </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;uniqueIndex;not null;size:50&quot; json:&quot;order_no&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	UserID        </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      `gorm:&quot;not null;index&quot; json:&quot;user_id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	TotalAmount   </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   `gorm:&quot;not null&quot; json:&quot;total_amount&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Status        </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;default:pending;size:20;index&quot; json:&quot;status&quot;`</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // pending, paid, shipped, completed, cancelled</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	PaymentStatus </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;default:unpaid;size:20&quot; json:&quot;payment_status&quot;`</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // unpaid, paid, refunded</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	ShippingStatus </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   `gorm:&quot;default:unshipped;size:20&quot; json:&quot;shipping_status&quot;`</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // unshipped, shipped, received</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	CreatedAt     </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `json:&quot;created_at&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	UpdatedAt     </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `json:&quot;updated_at&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	PaidAt        </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `json:&quot;paid_at,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	ShippedAt     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `json:&quot;shipped_at,omitempty&quot;`</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	User       </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">User</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        `gorm:&quot;foreignKey:UserID&quot; json:&quot;user,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Items      []</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">OrderItem</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `gorm:&quot;foreignKey:OrderID&quot; json:&quot;items,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Payment    </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Payment</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;foreignKey:OrderID&quot; json:&quot;payment,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Address    </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Address</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;foreignKey:OrderID&quot; json:&quot;address,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// OrderItem è®¢å•é¡¹</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> OrderItem</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	ID        </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;primaryKey&quot; json:&quot;id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	OrderID   </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;not null;index&quot; json:&quot;order_id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	ProductID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;not null&quot; json:&quot;product_id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	SKUID     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   `json:&quot;sku_id,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Quantity  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     `gorm:&quot;not null&quot; json:&quot;quantity&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Price     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `gorm:&quot;not null&quot; json:&quot;price&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Total     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `gorm:&quot;not null&quot; json:&quot;total&quot;`</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Order   </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Order</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      `gorm:&quot;foreignKey:OrderID&quot; json:&quot;order,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Product </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Product</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;foreignKey:ProductID&quot; json:&quot;product,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	SKU     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ProductSKU</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `gorm:&quot;foreignKey:SKUID&quot; json:&quot;sku,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="_5-æ”¯ä»˜æ¨¡å‹" tabindex="-1">5. æ”¯ä»˜æ¨¡å‹ <a class="header-anchor" href="#_5-æ”¯ä»˜æ¨¡å‹" aria-label="Permalink to &quot;5. æ”¯ä»˜æ¨¡å‹&quot;">â€‹</a></h3><div class="language-go vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Payment æ”¯ä»˜æ¨¡å‹</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Payment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	ID            </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      `gorm:&quot;primaryKey&quot; json:&quot;id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	OrderID       </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      `gorm:&quot;uniqueIndex;not null&quot; json:&quot;order_id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	PaymentNo     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;uniqueIndex;not null;size:50&quot; json:&quot;payment_no&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Amount        </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">float64</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   `gorm:&quot;not null&quot; json:&quot;amount&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Method        </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;not null;size:20&quot; json:&quot;method&quot;`</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // alipay, wechat</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Status        </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;default:pending;size:20&quot; json:&quot;status&quot;`</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // pending, success, failed</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	TransactionID </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;size:100&quot; json:&quot;transaction_id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	CreatedAt     </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `json:&quot;created_at&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	UpdatedAt     </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `json:&quot;updated_at&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	PaidAt        </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `json:&quot;paid_at,omitempty&quot;`</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Order </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Order</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `gorm:&quot;foreignKey:OrderID&quot; json:&quot;order,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_6-åœ°å€æ¨¡å‹" tabindex="-1">6. åœ°å€æ¨¡å‹ <a class="header-anchor" href="#_6-åœ°å€æ¨¡å‹" aria-label="Permalink to &quot;6. åœ°å€æ¨¡å‹&quot;">â€‹</a></h3><div class="language-go vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Address åœ°å€æ¨¡å‹</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Address</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	ID        </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      `gorm:&quot;primaryKey&quot; json:&quot;id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	UserID    </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      `gorm:&quot;not null;index&quot; json:&quot;user_id&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	OrderID   </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*uint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     `gorm:&quot;index&quot; json:&quot;order_id,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Name      </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;not null;size:50&quot; json:&quot;name&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Phone     </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;not null;size:20&quot; json:&quot;phone&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Province  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;not null;size:50&quot; json:&quot;province&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	City      </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;not null;size:50&quot; json:&quot;city&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	District  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;not null;size:50&quot; json:&quot;district&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Detail    </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    `gorm:&quot;not null;size:200&quot; json:&quot;detail&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	IsDefault </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">bool</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      `gorm:&quot;default:false&quot; json:&quot;is_default&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	CreatedAt </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `json:&quot;created_at&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	UpdatedAt </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Time</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `json:&quot;updated_at&quot;`</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	User  </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">User</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   `gorm:&quot;foreignKey:UserID&quot; json:&quot;user,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	Order </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Order</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> `gorm:&quot;foreignKey:OrderID&quot; json:&quot;order,omitempty&quot;`</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="ğŸ—„ï¸-æ•°æ®åº“è¿ç§»" tabindex="-1">ğŸ—„ï¸ æ•°æ®åº“è¿ç§» <a class="header-anchor" href="#ğŸ—„ï¸-æ•°æ®åº“è¿ç§»" aria-label="Permalink to &quot;ğŸ—„ï¸ æ•°æ®åº“è¿ç§»&quot;">â€‹</a></h2><div class="language-go vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AutoMigrate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">db</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gorm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> db.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AutoMigrate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		&amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">User</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{},</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		&amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Category</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{},</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		&amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Product</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{},</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		&amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ProductImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{},</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		&amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ProductSKU</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{},</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		&amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CartItem</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{},</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		&amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Order</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{},</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		&amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">OrderItem</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{},</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		&amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Payment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{},</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		&amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Address</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{},</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	)</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="ğŸ’¡-æœ€ä½³å®è·µ" tabindex="-1">ğŸ’¡ æœ€ä½³å®è·µ <a class="header-anchor" href="#ğŸ’¡-æœ€ä½³å®è·µ" aria-label="Permalink to &quot;ğŸ’¡ æœ€ä½³å®è·µ&quot;">â€‹</a></h2><h3 id="_1-è®¢å•å·ç”Ÿæˆ" tabindex="-1">1. è®¢å•å·ç”Ÿæˆ <a class="header-anchor" href="#_1-è®¢å•å·ç”Ÿæˆ" aria-label="Permalink to &quot;1. è®¢å•å·ç”Ÿæˆ&quot;">â€‹</a></h3><div class="language-go vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GenerateOrderNo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> fmt.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Sprintf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ORD</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">%d%s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, time.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Unix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(), </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">generateRandomString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_2-åº“å­˜ç®¡ç†" tabindex="-1">2. åº“å­˜ç®¡ç† <a class="header-anchor" href="#_2-åº“å­˜ç®¡ç†" aria-label="Permalink to &quot;2. åº“å­˜ç®¡ç†&quot;">â€‹</a></h3><div class="language-go vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Product</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">DecreaseStock</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">quantity</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p.Stock </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> quantity {</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">		return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> errors.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">New</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;åº“å­˜ä¸è¶³&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	p.Stock </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> quantity</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nil</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="â­ï¸-ä¸‹ä¸€æ­¥" tabindex="-1">â­ï¸ ä¸‹ä¸€æ­¥ <a class="header-anchor" href="#â­ï¸-ä¸‹ä¸€æ­¥" aria-label="Permalink to &quot;â­ï¸ ä¸‹ä¸€æ­¥&quot;">â€‹</a></h2><p>æ•°æ®æ¨¡å‹è®¾è®¡å®Œæˆåï¼Œä¸‹ä¸€æ­¥æ˜¯ï¼š</p><ul><li><a href="./03-products.html">å•†å“ç®¡ç†</a> - å®ç°å•†å“çš„CRUDæ“ä½œ</li></ul><hr><p><strong>ğŸ‰ æ•°æ®æ¨¡å‹è®¾è®¡å®Œæˆï¼</strong> ç°åœ¨ä½ å¯ä»¥å¼€å§‹å®ç°å•†å“ç®¡ç†åŠŸèƒ½äº†ã€‚</p>',34)])])}const E=i(l,[["render",p]]);export{u as __pageData,E as default};
