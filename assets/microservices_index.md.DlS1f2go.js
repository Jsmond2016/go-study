import{_ as i,c as a,o as n,ag as t}from"./chunks/framework.mZxFZN4m.js";const o=JSON.parse('{"title":"微服务","description":"","frontmatter":{"title":"微服务","difficulty":"advanced","duration":"10-12周","prerequisites":["Web 开发","并发编程","数据库"],"tags":["微服务","gRPC","服务发现","负载均衡","API 网关"]},"headers":[],"relativePath":"microservices/index.md","filePath":"microservices/index.md","lastUpdated":1763894702000}'),l={name:"microservices/index.md"};function e(h,s,p,k,r,d){return n(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="微服务" tabindex="-1">微服务 <a class="header-anchor" href="#微服务" aria-label="Permalink to &quot;微服务&quot;">​</a></h1><p>本模块介绍使用 Go 语言构建微服务架构，包括 gRPC、服务发现、负载均衡等。</p><h2 id="📋-学习目标" tabindex="-1">📋 学习目标 <a class="header-anchor" href="#📋-学习目标" aria-label="Permalink to &quot;📋 学习目标&quot;">​</a></h2><p>完成本模块学习后，你将能够：</p><ul class="contains-task-list"><li class="task-list-item enabled"><input class="task-list-item-checkbox" type="checkbox"> 理解微服务架构概念</li><li class="task-list-item enabled"><input class="task-list-item-checkbox" type="checkbox"> 使用 gRPC 构建服务</li><li class="task-list-item enabled"><input class="task-list-item-checkbox" type="checkbox"> 实现服务发现和注册</li><li class="task-list-item enabled"><input class="task-list-item-checkbox" type="checkbox"> 配置负载均衡</li><li class="task-list-item enabled"><input class="task-list-item-checkbox" type="checkbox"> 设计和实现 API 网关</li><li class="task-list-item enabled"><input class="task-list-item-checkbox" type="checkbox"> 掌握微服务最佳实践</li></ul><h2 id="🎯-学习路径" tabindex="-1">🎯 学习路径 <a class="header-anchor" href="#🎯-学习路径" aria-label="Permalink to &quot;🎯 学习路径&quot;">​</a></h2><h3 id="📚-第一部分-grpc-基础-第1-3周" tabindex="-1">📚 第一部分：gRPC 基础（第1-3周） <a class="header-anchor" href="#📚-第一部分-grpc-基础-第1-3周" aria-label="Permalink to &quot;📚 第一部分：gRPC 基础（第1-3周）&quot;">​</a></h3><table tabindex="0"><thead><tr><th>章节</th><th>内容</th><th>预计时间</th><th>难度</th></tr></thead><tbody><tr><td><a href="./01-grpc.html">gRPC 基础</a></td><td>gRPC 基础和使用</td><td>5-6小时</td><td>⭐⭐⭐</td></tr><tr><td><a href="./02-protobuf.html">Protocol Buffers</a></td><td>protobuf 定义和使用</td><td>4-5小时</td><td>⭐⭐⭐</td></tr></tbody></table><p><strong>学习内容</strong>：</p><ul><li>gRPC 概念和架构</li><li>gRPC 服务端和客户端实现</li><li>拦截器和错误处理</li><li>流式传输（单向流、双向流）</li><li>Protocol Buffers 语法和类型</li><li>服务定义和代码生成</li></ul><h3 id="🔧-第二部分-服务治理-第4-6周" tabindex="-1">🔧 第二部分：服务治理（第4-6周） <a class="header-anchor" href="#🔧-第二部分-服务治理-第4-6周" aria-label="Permalink to &quot;🔧 第二部分：服务治理（第4-6周）&quot;">​</a></h3><table tabindex="0"><thead><tr><th>章节</th><th>内容</th><th>预计时间</th><th>难度</th></tr></thead><tbody><tr><td><a href="./03-service-discovery.html">服务发现</a></td><td>服务注册和发现</td><td>4-5小时</td><td>⭐⭐⭐</td></tr><tr><td><a href="./04-load-balancing.html">负载均衡</a></td><td>负载均衡策略</td><td>4-5小时</td><td>⭐⭐⭐</td></tr><tr><td><a href="./05-api-gateway.html">API 网关</a></td><td>网关设计和实现</td><td>5-6小时</td><td>⭐⭐⭐⭐</td></tr></tbody></table><p><strong>学习内容</strong>：</p><ul><li>Consul 和 etcd 服务发现</li><li>服务注册和健康检查</li><li>负载均衡算法（轮询、加权、最少连接、一致性哈希）</li><li>API 网关路由和转发</li><li>认证授权、限流、熔断</li><li>监控和日志</li></ul><h3 id="🏗️-第三部分-实战项目-第7-8周" tabindex="-1">🏗️ 第三部分：实战项目（第7-8周） <a class="header-anchor" href="#🏗️-第三部分-实战项目-第7-8周" aria-label="Permalink to &quot;🏗️ 第三部分：实战项目（第7-8周）&quot;">​</a></h3><table tabindex="0"><thead><tr><th>章节</th><th>内容</th><th>预计时间</th><th>难度</th></tr></thead><tbody><tr><td><a href="./ecommerce-microservices/">电商微服务实战</a></td><td>完整微服务系统</td><td>15-20小时</td><td>⭐⭐⭐⭐</td></tr></tbody></table><p><strong>学习内容</strong>：</p><ul><li>微服务架构设计</li><li>用户、商品、订单服务实现</li><li>服务间通信和调用</li><li>API 网关集成</li><li>部署和运维实践</li></ul><h2 id="🚀-快速开始" tabindex="-1">🚀 快速开始 <a class="header-anchor" href="#🚀-快速开始" aria-label="Permalink to &quot;🚀 快速开始&quot;">​</a></h2><h3 id="第一个-grpc-服务" tabindex="-1">第一个 gRPC 服务 <a class="header-anchor" href="#第一个-grpc-服务" aria-label="Permalink to &quot;第一个 gRPC 服务&quot;">​</a></h3><div class="language-go vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">package</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">context</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">net</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">google.golang.org/grpc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	pb </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">your-project/proto</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> server</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> struct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">	pb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">UnimplementedGreeterServer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SayHello</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ctx</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Context</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">in</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HelloRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HelloReply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HelloReply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{Message: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Hello &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> in.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GetName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">nil</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	lis, err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> net.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;tcp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;:50051&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		log.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Fatalf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;failed to listen: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">%v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, err)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> grpc.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">NewServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	pb.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">RegisterGreeterServer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(s, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">server</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	log.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;gRPC server listening on :50051&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">	if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Serve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(lis); err </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> nil</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">		log.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Fatalf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;failed to serve: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">%v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, err)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h2 id="💡-学习建议" tabindex="-1">💡 学习建议 <a class="header-anchor" href="#💡-学习建议" aria-label="Permalink to &quot;💡 学习建议&quot;">​</a></h2><h3 id="📖-学习方法" tabindex="-1">📖 学习方法 <a class="header-anchor" href="#📖-学习方法" aria-label="Permalink to &quot;📖 学习方法&quot;">​</a></h3><ol><li><strong>理解架构</strong>：深入理解微服务架构模式</li><li><strong>实践项目</strong>：通过实际项目学习</li><li><strong>工具使用</strong>：掌握相关工具和框架</li><li><strong>最佳实践</strong>：学习微服务最佳实践</li></ol><h3 id="🔍-推荐资源" tabindex="-1">🔍 推荐资源 <a class="header-anchor" href="#🔍-推荐资源" aria-label="Permalink to &quot;🔍 推荐资源&quot;">​</a></h3><ul><li><a href="https://grpc.io/" target="_blank" rel="noreferrer">gRPC 官方文档</a></li><li><a href="https://protobuf.dev/" target="_blank" rel="noreferrer">Protocol Buffers 文档</a></li><li><a href="https://microservices.io/patterns/" target="_blank" rel="noreferrer">微服务架构模式</a></li></ul><h2 id="⏭️-下一阶段" tabindex="-1">⏭️ 下一阶段 <a class="header-anchor" href="#⏭️-下一阶段" aria-label="Permalink to &quot;⏭️ 下一阶段&quot;">​</a></h2><p>完成微服务学习后，可以进入：</p><ul><li><a href="./../devops/">运维部署</a> - 容器化和部署</li><li><a href="./../projects/">实战项目</a> - 完整项目开发</li></ul><hr><p><strong>🎉 开始你的微服务学习之旅吧！</strong> 选择第一个章节，开始学习微服务架构。</p>`,31)])])}const g=i(l,[["render",e]]);export{o as __pageData,g as default};
